import { useState, useEffect } from "react";

// Traduções centralizadas
const translations = {
  'pt-BR': {
    // Dashboard
    'dashboard.title': 'Dashboard',
    'dashboard.totalQuizzes': 'Total de Quizzes',
    'dashboard.totalLeads': 'Total de Leads',
    'dashboard.totalViews': 'Total de Visualizações',
    'dashboard.conversionRate': 'Taxa de Conversão',
    'dashboard.yourQuizzes': 'Seus Quizzes',
    'dashboard.viewAll': 'Ver Todos',
    'dashboard.published': 'Publicado',
    'dashboard.draft': 'Rascunho',
    'dashboard.edit': 'Editar',
    'dashboard.preview': 'Visualizar',
    'dashboard.views': 'visualizações',
    'dashboard.smsCampaigns': 'Campanhas SMS',
    'dashboard.emailCampaigns': 'Campanhas Email',
    'dashboard.whatsappCampaigns': 'Campanhas WhatsApp',
    'dashboard.createFirstQuiz': 'Criar Primeiro Quiz',
    'dashboard.noQuizzes': 'Nenhum quiz encontrado',
    'dashboard.upgradeAccount': 'Atualizar Conta',
    'dashboard.viewAnalytics': 'Analytics',
    'dashboard.settings': 'Configurações',
    
    // SMS
    'sms.availableCredits': 'Créditos Disponíveis',
    
    // Analytics
    'analytics.title': 'Analytics',
    'analytics.performance': 'Performance',
    'analytics.impressions': 'Impressões',
    'analytics.clicks': 'Cliques',
    'analytics.conversions': 'Conversões',
    'analytics.revenue': 'Receita',
    'analytics.totalQuizzes': 'Total de Quizzes',
    'analytics.totalLeads': 'Total de Leads',
    'analytics.totalViews': 'Total de Visualizações',
    'analytics.conversionRate': 'Taxa de Conversão',
    'analytics.averageTime': 'Tempo Médio',
    'analytics.bounceRate': 'Taxa de Rejeição',
    'analytics.topPerforming': 'Melhor Performance',
    'analytics.growth': 'Crescimento',
    'analytics.engagement': 'Engajamento',
    'analytics.retention': 'Retenção',
    'analytics.segments': 'Segmentos',
    'analytics.filters': 'Filtros',
    'analytics.refresh': 'Atualizar',
    
    // Email Marketing
    'emailMarketing.title': 'Email Marketing',
    'emailMarketing.description': 'Gerencie campanhas de email para seus leads',
    
    // Quiz Editor
    'quizEditor.title': 'Editor de Quiz',
    'quizEditor.save': 'Salvar',
    'quizEditor.publish': 'Publicar',
    'quizEditor.preview': 'Visualizar',
    'quizEditor.settings': 'Configurações',
    'quizEditor.addPage': 'Adicionar Página',
    'quizEditor.addElement': 'Adicionar Elemento',
    'quizEditor.properties': 'Propriedades',
    'quizEditor.testAB': 'Teste A/B',
    'quizEditor.design': 'Design',
    'quizEditor.flow': 'Fluxo',
    'quizEditor.variables': 'Variáveis',
    'quizEditor.integrations': 'Integrações',
    'quizEditor.pageTitle': 'Título da Página',
    'quizEditor.required': 'Obrigatório',
    'quizEditor.placeholder': 'Placeholder',
    'quizEditor.buttonText': 'Texto do Botão',
    'quizEditor.fontSize': 'Tamanho da Fonte',
    'quizEditor.textAlign': 'Alinhamento',
    'quizEditor.color': 'Cor',
    'quizEditor.backgroundColor': 'Cor de Fundo',
    'quizEditor.borderRadius': 'Arredondamento',
    'quizEditor.padding': 'Espaçamento',
    'quizEditor.margin': 'Margem',
    'quizEditor.width': 'Largura',
    'quizEditor.height': 'Altura',
    'quizEditor.animation': 'Animação',
    'quizEditor.transition': 'Transição',
    'quizEditor.shadow': 'Sombra',
    'quizEditor.border': 'Borda',
    'quizEditor.gradient': 'Gradiente',
    'quizEditor.opacity': 'Opacidade',
    'quizEditor.zIndex': 'Camada',
    'quizEditor.overflow': 'Transbordar',
    'quizEditor.position': 'Posição',
    'quizEditor.display': 'Exibição',
    'quizEditor.flexDirection': 'Direção Flex',
    'quizEditor.justifyContent': 'Justificar Conteúdo',
    'quizEditor.alignItems': 'Alinhar Itens',
    'quizEditor.gap': 'Espaçamento',
    'quizEditor.gridColumns': 'Colunas Grid',
    'quizEditor.gridRows': 'Linhas Grid',
    'quizEditor.aspectRatio': 'Proporção',
    'quizEditor.objectFit': 'Ajuste de Objeto',
    'quizEditor.cursor': 'Cursor',
    'quizEditor.userSelect': 'Seleção de Usuário',
    'quizEditor.pointerEvents': 'Eventos de Ponteiro',
    'quizEditor.visibility': 'Visibilidade',
    'quizEditor.backfaceVisibility': 'Visibilidade Traseira',
    'quizEditor.perspective': 'Perspectiva',
    'quizEditor.transformStyle': 'Estilo de Transformação',
    'quizEditor.transformOrigin': 'Origem da Transformação',
    'quizEditor.transform': 'Transformar',
    'quizEditor.filter': 'Filtro',
    'quizEditor.backdropFilter': 'Filtro de Fundo',
    'quizEditor.mixBlendMode': 'Modo de Mistura',
    'quizEditor.isolation': 'Isolamento',
    'quizEditor.willChange': 'Mudança Prevista',
    'quizEditor.contain': 'Conter',
    'quizEditor.contentVisibility': 'Visibilidade do Conteúdo',
    'quizEditor.containerType': 'Tipo de Contêiner',
    'quizEditor.containerName': 'Nome do Contêiner',
    'quizEditor.anchor': 'Âncora',
    'quizEditor.anchorName': 'Nome da Âncora',
    'quizEditor.positionAnchor': 'Âncora de Posição',
    'quizEditor.positionArea': 'Área de Posição',
    'quizEditor.positionTryOptions': 'Opções de Tentativa de Posição',
    'quizEditor.positionTryOrder': 'Ordem de Tentativa de Posição',
    'quizEditor.positionVisibility': 'Visibilidade de Posição',
    'quizEditor.overlayAnchor': 'Âncora de Sobreposição',
    'quizEditor.insetArea': 'Área de Inserção',
    'quizEditor.readingFlow': 'Fluxo de Leitura',
    'quizEditor.fieldSizing': 'Dimensionamento de Campo',
    'quizEditor.interporlateSize': 'Tamanho Interpolado',
    'quizEditor.timelineScope': 'Escopo da Linha do Tempo',
    'quizEditor.viewTransitionName': 'Nome da Transição de Visualização',
    'quizEditor.viewTransitionClass': 'Classe da Transição de Visualização',
    'quizEditor.scrollTimelineAxis': 'Eixo da Linha do Tempo de Rolagem',
    'quizEditor.scrollTimelineName': 'Nome da Linha do Tempo de Rolagem',
    'quizEditor.animationTimelineAxis': 'Eixo da Linha do Tempo de Animação',
    'quizEditor.animationTimelineName': 'Nome da Linha do Tempo de Animação',
    'quizEditor.animationRangeStart': 'Início do Intervalo de Animação',
    'quizEditor.animationRangeEnd': 'Fim do Intervalo de Animação',
    'quizEditor.animationComposition': 'Composição de Animação',
    'quizEditor.animationFillMode': 'Modo de Preenchimento de Animação',
    'quizEditor.animationDirection': 'Direção da Animação',
    'quizEditor.animationPlayState': 'Estado de Reprodução da Animação',
    'quizEditor.animationIterationCount': 'Contagem de Iterações da Animação',
    'quizEditor.animationDelay': 'Atraso da Animação',
    'quizEditor.animationDuration': 'Duração da Animação',
    'quizEditor.animationTimingFunction': 'Função de Tempo da Animação',
    'quizEditor.animationName': 'Nome da Animação',
    'quizEditor.transitionBehavior': 'Comportamento da Transição',
    'quizEditor.transitionDelay': 'Atraso da Transição',
    'quizEditor.transitionDuration': 'Duração da Transição',
    'quizEditor.transitionProperty': 'Propriedade da Transição',
    'quizEditor.transitionTimingFunction': 'Função de Tempo da Transição',
    
    // Login
    'login.title': 'Login',
    'login.subtitle': 'Faça login em sua conta',
    'login.login': 'Entrar',
    'login.register': 'Registrar',
    'login.email': 'Email',
    'login.password': 'Senha',
    'login.rememberPassword': 'Lembrar senha',
    'login.forgotPassword': 'Esqueceu a senha?',
    'login.firstName': 'Nome',
    'login.lastName': 'Sobrenome',
    'login.whatsapp': 'WhatsApp',
    'login.confirmPassword': 'Confirmar Senha',
    'login.captcha': 'Captcha',
    'login.human': 'Sou humano',
    'login.loginSuccess': 'Login realizado com sucesso!',
    'login.loginError': 'Erro no login',
    'login.registerSuccess': 'Conta criada com sucesso!',
    'login.fillAllFields': 'Preencha todos os campos',
    'login.passwordMismatch': 'As senhas não coincidem',
    'login.wrongCaptcha': 'Resposta do captcha incorreta',
    'login.loading': 'Carregando...',
    'login.createAccount': 'Criar conta',
    'login.backToLogin': 'Voltar ao login',
    'login.enterDetails': 'Digite seus dados abaixo',
    'login.signUp': 'Cadastrar',
    'login.signIn': 'Entrar',
    'login.welcomeBack': 'Bem-vindo de volta',
    'login.createNewAccount': 'Criar nova conta',
    'login.alreadyHaveAccount': 'Já tem uma conta?',
    'login.dontHaveAccount': 'Não tem uma conta?',
    
    // Sidebar
    'sidebar.creation': 'CRIAÇÃO',
    'sidebar.marketing': 'MARKETING',
    'sidebar.analytics': 'ANALYTICS',
    'sidebar.integrations': 'INTEGRAÇÕES',
    'sidebar.advanced': 'AVANÇADO',
    'sidebar.dashboard': 'Dashboard',
    'sidebar.quizBuilder': 'Quiz Builder',
    'sidebar.templates': 'Templates',
    'sidebar.abTesting': 'Teste A/B',
    'sidebar.analytics': 'Analytics',
    'sidebar.tracking': 'Tracking',
    'sidebar.smsMarketing': 'SMS Marketing',
    'sidebar.emailMarketing': 'Email Marketing',
    'sidebar.whatsappBusiness': 'WhatsApp Business',
    'sidebar.integrations': 'Integrações',
    'sidebar.apiWebhooks': 'API & Webhooks',
    'sidebar.variables': 'Variáveis',
    'sidebar.flowBuilder': 'Flow Builder',
    'sidebar.aiConversion': 'I.A. Conversion',
    'sidebar.facelessVideos': 'Faceless Videos',
    'sidebar.design': 'Design',
    'sidebar.multiplayer': 'Multiplayer',
    'sidebar.security': 'Segurança',
    'sidebar.settings': 'Configurações',
    'sidebar.plans': 'Planos',
    'sidebar.credits': 'Créditos',
    
    // Common
    'common.loading': 'Carregando...',
    'common.error': 'Erro',
    'common.success': 'Sucesso',
    'common.cancel': 'Cancelar',
    'common.save': 'Salvar',
    'common.delete': 'Deletar',
    'common.edit': 'Editar',
    'common.view': 'Visualizar',
    'common.create': 'Criar',
    'common.update': 'Atualizar',
    'common.search': 'Pesquisar',
    'common.filter': 'Filtrar',
    'common.sort': 'Ordenar',
    'common.export': 'Exportar',
    'common.import': 'Importar',
    'common.close': 'Fechar',
    'common.open': 'Abrir',
    'common.yes': 'Sim',
    'common.no': 'Não',
    'common.back': 'Voltar',
    'common.next': 'Próximo',
    'common.previous': 'Anterior',
    'common.finish': 'Finalizar',
    'common.continue': 'Continuar',
  },
  'en-US': {
    // Dashboard
    'dashboard.title': 'Dashboard',
    'dashboard.totalQuizzes': 'Total Quizzes',
    'dashboard.totalLeads': 'Total Leads',
    'dashboard.totalViews': 'Total Views',
    'dashboard.conversionRate': 'Conversion Rate',
    'dashboard.yourQuizzes': 'Your Quizzes',
    'dashboard.viewAll': 'View All',
    'dashboard.published': 'Published',
    'dashboard.draft': 'Draft',
    'dashboard.edit': 'Edit',
    'dashboard.preview': 'Preview',
    'dashboard.views': 'views',
    'dashboard.smsCampaigns': 'SMS Campaigns',
    'dashboard.emailCampaigns': 'Email Campaigns',
    'dashboard.whatsappCampaigns': 'WhatsApp Campaigns',
    'dashboard.createFirstQuiz': 'Create First Quiz',
    'dashboard.noQuizzes': 'No quizzes found',
    'dashboard.upgradeAccount': 'Upgrade Account',
    'dashboard.viewAnalytics': 'Analytics',
    'dashboard.settings': 'Settings',
    
    // SMS
    'sms.availableCredits': 'Available Credits',
    
    // Analytics
    'analytics.title': 'Analytics',
    'analytics.performance': 'Performance',
    'analytics.impressions': 'Impressions',
    'analytics.clicks': 'Clicks',
    'analytics.conversions': 'Conversions',
    'analytics.revenue': 'Revenue',
    'analytics.totalQuizzes': 'Total Quizzes',
    'analytics.totalLeads': 'Total Leads',
    'analytics.totalViews': 'Total Views',
    'analytics.conversionRate': 'Conversion Rate',
    'analytics.averageTime': 'Average Time',
    'analytics.bounceRate': 'Bounce Rate',
    'analytics.topPerforming': 'Top Performing',
    'analytics.growth': 'Growth',
    'analytics.engagement': 'Engagement',
    'analytics.retention': 'Retention',
    'analytics.segments': 'Segments',
    'analytics.filters': 'Filters',
    'analytics.refresh': 'Refresh',
    
    // Email Marketing
    'emailMarketing.title': 'Email Marketing',
    'emailMarketing.description': 'Manage email campaigns for your leads',
    
    // Quiz Editor
    'quizEditor.title': 'Quiz Editor',
    'quizEditor.save': 'Save',
    'quizEditor.publish': 'Publish',
    'quizEditor.preview': 'Preview',
    'quizEditor.settings': 'Settings',
    
    // Login
    'login.title': 'Login',
    'login.subtitle': 'Sign in to your account',
    'login.login': 'Login',
    'login.register': 'Register',
    'login.email': 'Email',
    'login.password': 'Password',
    'login.rememberPassword': 'Remember password',
    'login.forgotPassword': 'Forgot password?',
    'login.firstName': 'First Name',
    'login.lastName': 'Last Name',
    'login.whatsapp': 'WhatsApp',
    'login.confirmPassword': 'Confirm Password',
    'login.captcha': 'Captcha',
    'login.human': 'I am human',
    'login.loginSuccess': 'Login successful!',
    'login.loginError': 'Login error',
    'login.registerSuccess': 'Account created successfully!',
    'login.fillAllFields': 'Fill all fields',
    'login.passwordMismatch': 'Passwords do not match',
    'login.wrongCaptcha': 'Wrong captcha answer',
    'login.loading': 'Loading...',
    'login.createAccount': 'Create account',
    'login.backToLogin': 'Back to login',
    'login.enterDetails': 'Enter your details below',
    'login.signUp': 'Sign Up',
    'login.signIn': 'Sign In',
    'login.welcomeBack': 'Welcome back',
    'login.createNewAccount': 'Create new account',
    'login.alreadyHaveAccount': 'Already have an account?',
    'login.dontHaveAccount': 'Don\'t have an account?',
    
    // Sidebar
    'sidebar.creation': 'CREATION',
    'sidebar.marketing': 'MARKETING',
    'sidebar.analytics': 'ANALYTICS',
    'sidebar.integrations': 'INTEGRATIONS',
    'sidebar.advanced': 'ADVANCED',
    'sidebar.dashboard': 'Dashboard',
    'sidebar.quizBuilder': 'Quiz Builder',
    'sidebar.templates': 'Templates',
    'sidebar.abTesting': 'A/B Testing',
    'sidebar.analytics': 'Analytics',
    'sidebar.tracking': 'Tracking',
    'sidebar.smsMarketing': 'SMS Marketing',
    'sidebar.emailMarketing': 'Email Marketing',
    'sidebar.whatsappBusiness': 'WhatsApp Business',
    'sidebar.integrations': 'Integrations',
    'sidebar.apiWebhooks': 'API & Webhooks',
    'sidebar.variables': 'Variables',
    'sidebar.flowBuilder': 'Flow Builder',
    'sidebar.aiConversion': 'A.I. Conversion',
    'sidebar.facelessVideos': 'Faceless Videos',
    'sidebar.design': 'Design',
    'sidebar.multiplayer': 'Multiplayer',
    'sidebar.security': 'Security',
    'sidebar.settings': 'Settings',
    'sidebar.plans': 'Plans',
    'sidebar.credits': 'Credits',
    
    // Common
    'common.loading': 'Loading...',
    'common.error': 'Error',
    'common.success': 'Success',
    'common.cancel': 'Cancel',
    'common.save': 'Save',
    'common.delete': 'Delete',
    'common.edit': 'Edit',
    'common.view': 'View',
    'common.create': 'Create',
    'common.update': 'Update',
    'common.search': 'Search',
    'common.filter': 'Filter',
    'common.sort': 'Sort',
    'common.export': 'Export',
    'common.import': 'Import',
    'common.close': 'Close',
    'common.open': 'Open',
    'common.yes': 'Yes',
    'common.no': 'No',
    'common.back': 'Back',
    'common.next': 'Next',
    'common.previous': 'Previous',
    'common.finish': 'Finish',
    'common.continue': 'Continue',
  }
};

export function useLanguage() {
  const [currentLanguage, setCurrentLanguage] = useState(() => {
    return localStorage.getItem('vendzz-language') || 'pt-BR';
  });

  const changeLanguage = (language: string) => {
    setCurrentLanguage(language);
    localStorage.setItem('vendzz-language', language);
  };

  const t = (key: string, params?: Record<string, string>) => {
    const translation = translations[currentLanguage as keyof typeof translations]?.[key] || key;
    
    if (params) {
      return Object.keys(params).reduce((acc, param) => {
        return acc.replace(`{${param}}`, params[param]);
      }, translation);
    }
    
    return translation;
  };

  return { currentLanguage, changeLanguage, t };
}