<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>B2C2 Visual Editor - Complete</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: #f5f5f5;
            overflow-x: hidden;
        }

        /* Editor Layout */
        .editor-container {
            display: flex;
            height: 100vh;
        }

        /* Left Panel - Tools */
        .tools-panel {
            width: 300px;
            background: white;
            border-right: 1px solid #e5e5e5;
            overflow-y: auto;
            z-index: 1000;
        }

        .panel-header {
            background: linear-gradient(135deg, #6366f1 0%, #8b5cf6 100%);
            color: white;
            padding: 1rem;
            font-weight: 700;
            text-align: center;
        }

        .section {
            border-bottom: 1px solid #e5e5e5;
        }

        .section-title {
            background: #f8f9fa;
            padding: 0.75rem 1rem;
            font-weight: 600;
            border-bottom: 1px solid #e5e5e5;
            cursor: pointer;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .section-content {
            padding: 1rem;
        }

        .control-group {
            margin-bottom: 1rem;
        }

        .control-group label {
            display: block;
            font-weight: 500;
            margin-bottom: 0.5rem;
            color: #374151;
        }

        .control-group input,
        .control-group textarea,
        .control-group select {
            width: 100%;
            padding: 0.5rem;
            border: 1px solid #d1d5db;
            border-radius: 6px;
            font-size: 0.9rem;
        }

        .control-group textarea {
            min-height: 80px;
            resize: vertical;
        }

        .color-input {
            height: 40px;
            cursor: pointer;
        }

        .btn {
            background: #6366f1;
            color: white;
            padding: 0.5rem 1rem;
            border: none;
            border-radius: 6px;
            cursor: pointer;
            font-weight: 500;
            width: 100%;
            margin-bottom: 0.5rem;
        }

        .btn:hover {
            background: #5856eb;
        }

        .btn-secondary {
            background: #6b7280;
        }

        .btn-success {
            background: #10b981;
        }

        .btn-danger {
            background: #ef4444;
        }

        /* Main Editor Area */
        .editor-main {
            flex: 1;
            background: #f5f5f5;
            overflow: auto;
            position: relative;
        }

        .editor-toolbar {
            background: white;
            border-bottom: 1px solid #e5e5e5;
            padding: 1rem;
            display: flex;
            gap: 1rem;
            align-items: center;
            position: sticky;
            top: 0;
            z-index: 100;
        }

        .device-toggle {
            display: flex;
            gap: 0.5rem;
        }

        .device-btn {
            padding: 0.5rem;
            border: 1px solid #d1d5db;
            background: white;
            border-radius: 4px;
            cursor: pointer;
        }

        .device-btn.active {
            background: #6366f1;
            color: white;
        }

        /* Canvas */
        .canvas {
            max-width: 1200px;
            margin: 2rem auto;
            background: white;
            border-radius: 8px;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
            transition: all 0.3s ease;
        }

        .canvas.mobile {
            max-width: 375px;
        }

        .canvas.tablet {
            max-width: 768px;
        }

        /* Editable Elements */
        .editable {
            position: relative;
            transition: all 0.2s ease;
        }

        .editable:hover {
            outline: 2px dashed #6366f1;
            outline-offset: 2px;
        }

        .editable.selected {
            outline: 2px solid #6366f1;
            outline-offset: 2px;
        }

        .element-label {
            position: absolute;
            top: -25px;
            left: 0;
            background: #6366f1;
            color: white;
            padding: 2px 8px;
            font-size: 11px;
            border-radius: 3px;
            opacity: 0;
            transition: opacity 0.2s ease;
            z-index: 10;
        }

        .editable:hover .element-label {
            opacity: 1;
        }

        /* Text Editor Modal */
        .text-editor-modal {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0,0,0,0.5);
            display: none;
            align-items: center;
            justify-content: center;
            z-index: 2000;
        }

        .text-editor-content {
            background: white;
            border-radius: 8px;
            padding: 2rem;
            width: 90%;
            max-width: 600px;
            max-height: 80vh;
            overflow-y: auto;
        }

        .text-editor-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1.5rem;
        }

        .text-editor-header h3 {
            color: #374151;
        }

        .close-btn {
            background: none;
            border: none;
            font-size: 1.5rem;
            cursor: pointer;
            color: #6b7280;
        }

        .formatting-toolbar {
            display: flex;
            gap: 0.5rem;
            margin-bottom: 1rem;
            flex-wrap: wrap;
        }

        .format-btn {
            padding: 0.5rem;
            border: 1px solid #d1d5db;
            background: white;
            border-radius: 4px;
            cursor: pointer;
            font-size: 0.9rem;
        }

        .format-btn:hover,
        .format-btn.active {
            background: #6366f1;
            color: white;
        }

        .text-editor-input {
            width: 100%;
            min-height: 200px;
            padding: 1rem;
            border: 1px solid #d1d5db;
            border-radius: 6px;
            font-family: inherit;
            font-size: 1rem;
            line-height: 1.5;
            resize: vertical;
        }

        /* Right Panel - Properties */
        .properties-panel {
            width: 300px;
            background: white;
            border-left: 1px solid #e5e5e5;
            overflow-y: auto;
        }

        .no-element-selected {
            padding: 2rem;
            text-align: center;
            color: #6b7280;
        }

        /* News Card Editor */
        .news-editor {
            background: #f8f9fa;
            padding: 1rem;
            border-radius: 6px;
            margin-bottom: 1rem;
        }

        .news-editor h4 {
            margin-bottom: 0.5rem;
            color: #374151;
        }

        .add-news-btn {
            background: #10b981;
            color: white;
            padding: 0.5rem 1rem;
            border: none;
            border-radius: 6px;
            cursor: pointer;
            width: 100%;
        }

        .remove-news-btn {
            background: #ef4444;
            color: white;
            padding: 0.25rem 0.5rem;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            float: right;
            font-size: 0.8rem;
        }

        /* B2C2 Site Styles - Embedded */
        .header {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(20px);
            position: relative;
            border-bottom: 1px solid rgba(0, 0, 0, 0.1);
        }

        .logo-icon {
            display: flex;
            gap: 2px;
        }

        .logo-circle {
            width: 24px;
            height: 24px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: 800;
            font-size: 0.8rem;
        }

        .logo-circle:nth-child(1) { background: #6366f1; }
        .logo-circle:nth-child(2) { background: #8b5cf6; }
        .logo-circle:nth-child(3) { background: #a855f7; }
        .logo-circle:nth-child(4) { background: #c084fc; }

        .nav-container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 2rem;
            display: flex;
            align-items: center;
            justify-content: space-between;
            height: 80px;
        }

        .logo {
            font-size: 2rem;
            font-weight: 800;
            color: #6366f1;
            text-decoration: none;
            letter-spacing: -0.02em;
        }

        .nav-menu {
            display: flex;
            list-style: none;
            gap: 2rem;
            align-items: center;
        }

        .nav-menu a {
            color: #1a1a1a;
            text-decoration: none;
            font-weight: 500;
            font-size: 0.95rem;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            transition: color 0.3s ease;
        }

        .nav-cta {
            background: linear-gradient(135deg, #6366f1 0%, #8b5cf6 100%);
            color: white !important;
            padding: 0.75rem 1.5rem;
            border-radius: 8px;
        }

        .hero {
            background: linear-gradient(135deg, #e91e63 0%, #9c27b0 50%, #673ab7 100%);
            padding: 8rem 2rem 6rem;
            text-align: left;
            color: white;
            position: relative;
            overflow: hidden;
        }

        .hero-content {
            max-width: 1200px;
            margin: 0 auto;
            position: relative;
            z-index: 2;
        }

        .hero h1 {
            font-size: clamp(2.5rem, 5vw, 4rem);
            font-weight: 800;
            margin-bottom: 1.5rem;
            text-shadow: 0 4px 20px rgba(0,0,0,0.3);
            line-height: 1.1;
        }

        .hero h1 .highlight {
            background: linear-gradient(135deg, #fbbf24, #f59e0b);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .hero p {
            font-size: 1.25rem;
            opacity: 0.9;
            margin-bottom: 3rem;
            max-width: 800px;
            margin-left: auto;
            margin-right: auto;
            font-weight: 300;
        }

        .hero-buttons {
            display: flex;
            gap: 2rem;
            justify-content: center;
            flex-wrap: wrap;
            margin-bottom: 4rem;
        }

        .btn-primary {
            background: linear-gradient(135deg, #f59e0b 0%, #f97316 100%);
            color: white;
            padding: 1.25rem 2.5rem;
            border: none;
            border-radius: 12px;
            font-weight: 700;
            font-size: 1.1rem;
            cursor: pointer;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            text-decoration: none;
            display: inline-block;
            transition: all 0.3s ease;
        }

        .btn-secondary {
            background: rgba(255,255,255,0.1);
            color: white;
            padding: 1.25rem 2.5rem;
            border: 2px solid rgba(255,255,255,0.3);
            border-radius: 12px;
            font-weight: 600;
            font-size: 1.1rem;
            cursor: pointer;
            backdrop-filter: blur(10px);
            text-decoration: none;
            display: inline-block;
            transition: all 0.3s ease;
        }

        .hero-stats {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 2rem;
            max-width: 800px;
            margin: 0 auto;
        }

        .stat-card {
            background: rgba(255,255,255,0.1);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255,255,255,0.2);
            border-radius: 12px;
            padding: 1.5rem;
            text-align: center;
        }

        .stat-card h3 {
            font-size: 2rem;
            font-weight: 800;
            color: #fbbf24;
            margin-bottom: 0.5rem;
        }

        .news-section {
            background: #f8f9fa;
            padding: 6rem 2rem;
        }

        .news-content {
            max-width: 1200px;
            margin: 0 auto;
        }

        .news-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 3rem;
        }

        .news-header h2 {
            font-size: 2.5rem;
            font-weight: 800;
            color: #1a1a1a;
        }

        .news-carousel {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
            gap: 2rem;
        }

        .news-card {
            background: white;
            border-radius: 16px;
            padding: 2rem;
            box-shadow: 0 8px 25px rgba(0,0,0,0.1);
            transition: all 0.3s ease;
        }

        .news-meta {
            display: flex;
            align-items: center;
            gap: 1rem;
            margin-bottom: 1.5rem;
        }

        .news-logo {
            width: 40px;
            height: 40px;
            background: linear-gradient(135deg, #6366f1, #8b5cf6);
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: 800;
            font-size: 1.2rem;
        }

        .news-type {
            background: #e5e7eb;
            color: #6b7280;
            padding: 0.25rem 0.75rem;
            border-radius: 20px;
            font-size: 0.8rem;
            font-weight: 600;
            text-transform: uppercase;
        }

        .solutions {
            background: linear-gradient(135deg, #6366f1 0%, #8b5cf6 100%);
            padding: 6rem 2rem;
            color: white;
        }

        .solutions-content {
            max-width: 1200px;
            margin: 0 auto;
        }

        .solutions-header {
            text-align: center;
            margin-bottom: 4rem;
        }

        .solutions h2 {
            font-size: 3rem;
            font-weight: 800;
            margin-bottom: 1.5rem;
        }

        .solutions-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 2rem;
        }

        .solution-card {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(20px);
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: 20px;
            padding: 2rem;
            text-align: center;
        }

        .solution-icon {
            font-size: 3rem;
            margin-bottom: 1rem;
        }

        .newsletter {
            background: #1a1a1a;
            padding: 6rem 2rem;
            color: white;
            text-align: center;
        }

        .newsletter-content {
            max-width: 800px;
            margin: 0 auto;
        }

        .newsletter h2 {
            font-size: 2.5rem;
            font-weight: 800;
            margin-bottom: 1rem;
        }

        .footer {
            background: #0f0f0f;
            color: white;
            padding: 4rem 2rem 2rem;
        }

        .footer-content {
            max-width: 1200px;
            margin: 0 auto;
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 3rem;
        }

        .footer-section h4 {
            color: #6366f1;
            margin-bottom: 1rem;
        }

        /* Responsive in Editor */
        @media (max-width: 768px) {
            .tools-panel,
            .properties-panel {
                width: 280px;
            }
        }
    </style>
</head>
<body>
    <div class="editor-container">
        <!-- Tools Panel -->
        <div class="tools-panel">
            <div class="panel-header">
                B2C2 Visual Editor
            </div>

            <!-- Login Section -->
            <div class="section" id="login-section">
                <div class="section-title">üîê Login Required</div>
                <div class="section-content">
                    <div class="control-group">
                        <label>Username</label>
                        <input type="text" id="username" placeholder="Enter username">
                    </div>
                    <div class="control-group">
                        <label>Password</label>
                        <input type="password" id="password" placeholder="Enter password">
                    </div>
                    <button class="btn" onclick="login()">Login to Editor</button>
                </div>
            </div>

            <!-- Main Editor Tools (Hidden initially) -->
            <div class="main-editor" id="main-editor" style="display: none;">
                <!-- Site Control -->
                <div class="section">
                    <div class="section-title">üåê Site Control</div>
                    <div class="section-content">
                        <button class="btn btn-success" onclick="loadB2C2Site()">Load B2C2 Site</button>
                        <button class="btn" onclick="saveChanges()">Save Changes</button>
                        <button class="btn btn-secondary" onclick="previewSite()">Preview Site</button>
                        <button class="btn btn-danger" onclick="resetSite()">Reset to Default</button>
                    </div>
                </div>

                <!-- Global Settings -->
                <div class="section">
                    <div class="section-title">‚öôÔ∏è Global Settings</div>
                    <div class="section-content">
                        <div class="control-group">
                            <label>Site Title</label>
                            <input type="text" id="site-title" value="B2C2 - Digital Asset Trading" onchange="updateSiteTitle()">
                        </div>
                        <div class="control-group">
                            <label>Primary Color</label>
                            <input type="color" id="primary-color" value="#6366f1" class="color-input" onchange="updatePrimaryColor()">
                        </div>
                        <div class="control-group">
                            <label>Secondary Color</label>
                            <input type="color" id="secondary-color" value="#8b5cf6" class="color-input" onchange="updateSecondaryColor()">
                        </div>
                        <div class="control-group">
                            <label>Accent Color</label>
                            <input type="color" id="accent-color" value="#f59e0b" class="color-input" onchange="updateAccentColor()">
                        </div>
                    </div>
                </div>

                <!-- Add Elements -->
                <div class="section">
                    <div class="section-title">‚ûï Add Elements</div>
                    <div class="section-content">
                        <button class="btn" onclick="addNewsCard()">Add News Card</button>
                        <button class="btn" onclick="addSolutionCard()">Add Solution Card</button>
                        <button class="btn" onclick="addStatCard()">Add Stat Card</button>
                        <button class="btn" onclick="addSection()">Add Section</button>
                    </div>
                </div>

                <!-- Export/Import -->
                <div class="section">
                    <div class="section-title">üìÅ Export/Import</div>
                    <div class="section-content">
                        <button class="btn" onclick="exportSite()">Export HTML</button>
                        <button class="btn btn-secondary" onclick="importSite()">Import Site</button>
                        <input type="file" id="import-file" accept=".html" style="display: none;">
                    </div>
                </div>
            </div>
        </div>

        <!-- Main Editor Area -->
        <div class="editor-main">
            <div class="editor-toolbar">
                <div class="device-toggle">
                    <button class="device-btn active" onclick="setDevice('desktop')">üñ•Ô∏è Desktop</button>
                    <button class="device-btn" onclick="setDevice('tablet')">üì± Tablet</button>
                    <button class="device-btn" onclick="setDevice('mobile')">üì± Mobile</button>
                </div>
                <div style="margin-left: auto;">
                    <button class="btn" onclick="previewSite()" style="background: #10b981;">üëÅÔ∏è Preview</button>
                </div>
            </div>

            <div class="canvas" id="canvas">
                <!-- B2C2 Site will be loaded here -->
                <div style="padding: 4rem; text-align: center; color: #6b7280;">
                    <h2>B2C2 Visual Editor</h2>
                    <p>Login and load the B2C2 site to start editing</p>
                </div>
            </div>
        </div>

        <!-- Properties Panel -->
        <div class="properties-panel">
            <div class="panel-header">
                Element Properties
            </div>
            <div id="properties-content">
                <div class="no-element-selected">
                    <p>Select an element to edit its properties</p>
                </div>
            </div>
        </div>
    </div>

    <!-- Text Editor Modal -->
    <div class="text-editor-modal" id="text-editor-modal">
        <div class="text-editor-content">
            <div class="text-editor-header">
                <h3>Edit Text Content</h3>
                <button class="close-btn" onclick="closeTextEditor()">&times;</button>
            </div>
            <div class="formatting-toolbar">
                <button class="format-btn" onclick="formatText('bold')"><b>B</b></button>
                <button class="format-btn" onclick="formatText('italic')"><i>I</i></button>
                <button class="format-btn" onclick="formatText('underline')"><u>U</u></button>
                <button class="format-btn" onclick="formatText('h1')">H1</button>
                <button class="format-btn" onclick="formatText('h2')">H2</button>
                <button class="format-btn" onclick="formatText('h3')">H3</button>
                <button class="format-btn" onclick="formatText('p')">P</button>
            </div>
            <textarea class="text-editor-input" id="text-editor-input" placeholder="Enter your text here..."></textarea>
            <div style="margin-top: 1rem; display: flex; gap: 1rem;">
                <button class="btn btn-success" onclick="saveTextEdit()">Save Changes</button>
                <button class="btn btn-secondary" onclick="closeTextEditor()">Cancel</button>
            </div>
        </div>
    </div>

    <script>
        let currentElement = null;
        let isLoggedIn = false;
        let siteData = {};

        // Login functionality
        function login() {
            const username = document.getElementById('username').value;
            const password = document.getElementById('password').value;
            
            if ((username === 'admin@admin.com' && password === '88991010') || 
                (username === 'admin' && password === 'b2c2admin')) {
                isLoggedIn = true;
                document.getElementById('login-section').style.display = 'none';
                document.getElementById('main-editor').style.display = 'block';
                loadB2C2Site();
                showNotification('Login successful! Welcome to B2C2 Editor', 'success');
            } else {
                showNotification('Invalid credentials. Use admin@admin.com/88991010 or admin/b2c2admin', 'error');
            }
        }

        // Load B2C2 site
        function loadB2C2Site() {
            if (!isLoggedIn) return;
            
            const canvas = document.getElementById('canvas');
            canvas.innerHTML = `
                <!-- Header -->
                <header class="header editable" data-type="header" onclick="selectElement(this)">
                    <div class="element-label">Header</div>
                    <nav class="nav-container">
                        <a href="#" class="logo editable" data-type="text" onclick="editText(this, event)">B2C2</a>
                        <ul class="nav-menu">
                            <li><a href="#contact" class="editable" data-type="text" onclick="editText(this, event)">CONTACT</a></li>
                            <li><a href="#subscribe" class="nav-cta editable" data-type="text" onclick="editText(this, event)">SUBSCRIBE</a></li>
                        </ul>
                    </nav>
                </header>

                <!-- Hero Section -->
                <section class="hero editable" data-type="hero" onclick="selectElement(this)">
                    <div class="element-label">Hero Section</div>
                    <div class="hero-content">
                        <h1 class="editable" data-type="text" onclick="editText(this, event)">
                            More than just a liquidity provider,<br>
                            <span class="highlight">B2C2 is a digital asset pioneer</span> building the ecosystem of the future
                        </h1>
                        <p class="editable" data-type="text" onclick="editText(this, event)">
                            B2C2's success is built on a foundation of proprietary crypto-native technology combined with an innovative range of products, making the firm the partner of choice for diverse institutions globally.
                        </p>
                        <div class="hero-buttons">
                            <a href="#solutions" class="btn-primary editable" data-type="text" onclick="editText(this, event)">Explore institutional solutions ‚Üí</a>
                            <a href="#about" class="btn-secondary editable" data-type="text" onclick="editText(this, event)">Learn about B2C2</a>
                        </div>
                        <div class="hero-stats">
                            <div class="stat-card editable" data-type="stat" onclick="selectElement(this)">
                                <div class="element-label">Stat Card</div>
                                <h3 class="editable" data-type="text" onclick="editText(this, event)">$100B+</h3>
                                <p class="editable" data-type="text" onclick="editText(this, event)">Trading Volume</p>
                            </div>
                            <div class="stat-card editable" data-type="stat" onclick="selectElement(this)">
                                <div class="element-label">Stat Card</div>
                                <h3 class="editable" data-type="text" onclick="editText(this, event)">24/7</h3>
                                <p class="editable" data-type="text" onclick="editText(this, event)">Market Coverage</p>
                            </div>
                            <div class="stat-card editable" data-type="stat" onclick="selectElement(this)">
                                <div class="element-label">Stat Card</div>
                                <h3 class="editable" data-type="text" onclick="editText(this, event)">100+</h3>
                                <p class="editable" data-type="text" onclick="editText(this, event)">Global Clients</p>
                            </div>
                        </div>
                    </div>
                </section>

                <!-- News Section -->
                <section class="news-section editable" data-type="news-section" onclick="selectElement(this)">
                    <div class="element-label">News Section</div>
                    <div class="news-content">
                        <div class="news-header">
                            <h2 class="editable" data-type="text" onclick="editText(this, event)">Latest news</h2>
                            <a href="#all-news" class="view-all-link editable" data-type="text" onclick="editText(this, event)">View all ‚Üí</a>
                        </div>
                        <div class="news-carousel" id="news-carousel">
                            <article class="news-card editable" data-type="news-card" onclick="selectElement(this)">
                                <div class="element-label">News Card</div>
                                <div class="news-meta">
                                    <div class="news-logo">B2</div>
                                    <span class="news-type editable" data-type="text" onclick="editText(this, event)">Press release</span>
                                </div>
                                <h3 class="editable" data-type="text" onclick="editText(this, event)">B2C2 Partners with OpenPayd to Expand its Global Instant Settlement Network</h3>
                                <div class="news-date editable" data-type="text" onclick="editText(this, event)">October 28, 2024</div>
                                <a href="#" class="read-more editable" data-type="text" onclick="editText(this, event)">Read more ‚Üí</a>
                            </article>
                            
                            <article class="news-card editable" data-type="news-card" onclick="selectElement(this)">
                                <div class="element-label">News Card</div>
                                <div class="news-meta">
                                    <div class="news-logo">B2</div>
                                    <span class="news-type editable" data-type="text" onclick="editText(this, event)">Press release</span>
                                </div>
                                <h3 class="editable" data-type="text" onclick="editText(this, event)">B2C2 Appoints Cactus Raazi as US CEO</h3>
                                <div class="news-date editable" data-type="text" onclick="editText(this, event)">September 2, 2024</div>
                                <a href="#" class="read-more editable" data-type="text" onclick="editText(this, event)">Read more ‚Üí</a>
                            </article>
                            
                            <article class="news-card editable" data-type="news-card" onclick="selectElement(this)">
                                <div class="element-label">News Card</div>
                                <div class="news-meta">
                                    <div class="news-logo">B2</div>
                                    <span class="news-type editable" data-type="text" onclick="editText(this, event)">Press release</span>
                                </div>
                                <h3 class="editable" data-type="text" onclick="editText(this, event)">Arbelos and B2C2 Complete First Bilateral OTC Option Transaction on BVIV Index</h3>
                                <div class="news-date editable" data-type="text" onclick="editText(this, event)">June 4, 2024</div>
                                <a href="#" class="read-more editable" data-type="text" onclick="editText(this, event)">Read more ‚Üí</a>
                            </article>
                        </div>
                    </div>
                </section>

                <!-- Solutions Section -->
                <section class="solutions editable" data-type="solutions" onclick="selectElement(this)">
                    <div class="element-label">Solutions Section</div>
                    <div class="solutions-content">
                        <div class="solutions-header">
                            <h2 class="editable" data-type="text" onclick="editText(this, event)">Institutional solutions</h2>
                            <p class="subtitle editable" data-type="text" onclick="editText(this, event)">
                                Our large and growing client base around the world trusts us to deliver seamless execution 24/7.
                            </p>
                            <a href="#contact" class="btn-primary editable" data-type="text" onclick="editText(this, event)">Explore institutional solutions ‚Üí</a>
                        </div>
                        <div class="solutions-grid" id="solutions-grid">
                            <div class="solution-card editable" data-type="solution-card" onclick="selectElement(this)">
                                <div class="element-label">Solution Card</div>
                                <div class="solution-icon editable" data-type="text" onclick="editText(this, event)">üìä</div>
                                <h3 class="editable" data-type="text" onclick="editText(this, event)">Trading overview</h3>
                                <p class="editable" data-type="text" onclick="editText(this, event)">Professional trading platforms with institutional-grade execution and deep liquidity access across global markets.</p>
                            </div>
                            <div class="solution-card editable" data-type="solution-card" onclick="selectElement(this)">
                                <div class="element-label">Solution Card</div>
                                <div class="solution-icon editable" data-type="text" onclick="editText(this, event)">‚öôÔ∏è</div>
                                <h3 class="editable" data-type="text" onclick="editText(this, event)">OTC Products</h3>
                                <p class="editable" data-type="text" onclick="editText(this, event)">Over-the-counter trading solutions with competitive pricing and transparent execution for institutional clients.</p>
                            </div>
                            <div class="solution-card editable" data-type="solution-card" onclick="selectElement(this)">
                                <div class="element-label">Solution Card</div>
                                <div class="solution-icon editable" data-type="text" onclick="editText(this, event)">üíß</div>
                                <h3 class="editable" data-type="text" onclick="editText(this, event)">Liquidity</h3>
                                <p class="editable" data-type="text" onclick="editText(this, event)">Deep liquidity pools and advanced market making technology for seamless digital asset trading.</p>
                            </div>
                            <div class="solution-card editable" data-type="solution-card" onclick="selectElement(this)">
                                <div class="element-label">Solution Card</div>
                                <div class="solution-icon editable" data-type="text" onclick="editText(this, event)">üë•</div>
                                <h3 class="editable" data-type="text" onclick="editText(this, event)">Client onboarding</h3>
                                <p class="editable" data-type="text" onclick="editText(this, event)">Streamlined institutional onboarding process with dedicated support and comprehensive compliance.</p>
                            </div>
                        </div>
                    </div>
                </section>

                <!-- Newsletter Section -->
                <section class="newsletter editable" data-type="newsletter" onclick="selectElement(this)">
                    <div class="element-label">Newsletter Section</div>
                    <div class="newsletter-content">
                        <h2 class="editable" data-type="text" onclick="editText(this, event)">Subscribe</h2>
                        <p class="editable" data-type="text" onclick="editText(this, event)">
                            Sign up to our news alerts to receive our regular newsletter and institutional insights into the crypto market direct to your inbox.
                            <br><br>
                            B2C2 does not transact with or provide any service to any retail investor or consumer.
                        </p>
                    </div>
                </section>

                <!-- Footer -->
                <footer class="footer editable" data-type="footer" onclick="selectElement(this)">
                    <div class="element-label">Footer</div>
                    <div class="footer-content">
                        <div class="footer-section">
                            <h4 class="editable" data-type="text" onclick="editText(this, event)">Solutions</h4>
                        </div>
                        <div class="footer-section">
                            <h4 class="editable" data-type="text" onclick="editText(this, event)">About</h4>
                        </div>
                        <div class="footer-section">
                            <h4 class="editable" data-type="text" onclick="editText(this, event)">News & Events</h4>
                        </div>
                        <div class="footer-section">
                            <h4 class="editable" data-type="text" onclick="editText(this, event)">Global locations</h4>
                        </div>
                    </div>
                </footer>
            `;
            
            showNotification('B2C2 site loaded successfully! Click any element to edit.', 'success');
        }

        // Element selection
        function selectElement(element) {
            event.stopPropagation();
            
            // Remove previous selection
            document.querySelectorAll('.editable').forEach(el => {
                el.classList.remove('selected');
            });
            
            // Select current element
            element.classList.add('selected');
            currentElement = element;
            
            // Update properties panel
            updatePropertiesPanel(element);
        }

        // Text editing
        function editText(element, event) {
            event.stopPropagation();
            currentElement = element;
            
            const modal = document.getElementById('text-editor-modal');
            const input = document.getElementById('text-editor-input');
            
            input.value = element.textContent.trim();
            modal.style.display = 'flex';
        }

        function closeTextEditor() {
            document.getElementById('text-editor-modal').style.display = 'none';
        }

        function saveTextEdit() {
            if (currentElement) {
                const newText = document.getElementById('text-editor-input').value;
                currentElement.innerHTML = newText;
                closeTextEditor();
                showNotification('Text updated successfully!', 'success');
            }
        }

        // Properties panel
        function updatePropertiesPanel(element) {
            const panel = document.getElementById('properties-content');
            const type = element.dataset.type;
            
            let content = `
                <div class="section">
                    <div class="section-title">üìù Element: ${type}</div>
                    <div class="section-content">
                        <div class="control-group">
                            <label>Element Type</label>
                            <input type="text" value="${type}" readonly>
                        </div>
            `;
            
            if (type === 'text') {
                content += `
                    <div class="control-group">
                        <label>Text Content</label>
                        <textarea onchange="updateElementText(this.value)">${element.textContent}</textarea>
                    </div>
                    <div class="control-group">
                        <label>Font Size</label>
                        <input type="range" min="10" max="72" value="16" onchange="updateFontSize(this.value)">
                    </div>
                    <div class="control-group">
                        <label>Text Color</label>
                        <input type="color" class="color-input" onchange="updateTextColor(this.value)">
                    </div>
                `;
            }
            
            if (type === 'news-card') {
                content += `
                    <div class="control-group">
                        <button class="btn btn-danger" onclick="removeElement()">Remove Card</button>
                    </div>
                `;
            }
            
            content += `
                        <div class="control-group">
                            <label>Background Color</label>
                            <input type="color" class="color-input" onchange="updateBackgroundColor(this.value)">
                        </div>
                        <div class="control-group">
                            <label>Padding</label>
                            <input type="range" min="0" max="100" value="20" onchange="updatePadding(this.value)">
                        </div>
                    </div>
                </div>
            `;
            
            panel.innerHTML = content;
        }

        // Property updates
        function updateElementText(text) {
            if (currentElement) {
                currentElement.textContent = text;
            }
        }

        function updateFontSize(size) {
            if (currentElement) {
                currentElement.style.fontSize = size + 'px';
            }
        }

        function updateTextColor(color) {
            if (currentElement) {
                currentElement.style.color = color;
            }
        }

        function updateBackgroundColor(color) {
            if (currentElement) {
                currentElement.style.backgroundColor = color;
            }
        }

        function updatePadding(padding) {
            if (currentElement) {
                currentElement.style.padding = padding + 'px';
            }
        }

        // Enhanced Admin Functions
        function updateLogo(text) {
            const logoElements = document.querySelectorAll('.logo');
            logoElements.forEach(el => el.textContent = text);
            showNotification('Logo updated successfully', 'success');
        }

        function updateLogoColor(index, color) {
            const logoCircles = document.querySelectorAll('.logo-circle');
            if (logoCircles[index]) {
                logoCircles[index].style.background = color;
            }
            showNotification(`Logo color ${index + 1} updated`, 'success');
        }

        function editMenuItems() {
            const menuItems = document.querySelectorAll('.nav-menu a');
            let menuText = '';
            menuItems.forEach((item, index) => {
                menuText += `Item ${index + 1}: ${item.textContent}\n`;
            });
            
            const newMenu = prompt('Edit menu items (one per line):', menuText);
            if (newMenu) {
                const items = newMenu.split('\n').filter(item => item.trim());
                menuItems.forEach((item, index) => {
                    if (items[index]) {
                        const text = items[index].replace(/^Item \d+: /, '');
                        item.textContent = text;
                    }
                });
                showNotification('Menu updated successfully', 'success');
            }
        }

        function addNewPage() {
            const pageName = prompt('Enter new page name:');
            if (pageName) {
                const nav = document.querySelector('.nav-menu');
                const newLink = document.createElement('li');
                newLink.innerHTML = `<a href="#${pageName.toLowerCase()}" class="editable" data-type="text" onclick="editText(this, event)">${pageName.toUpperCase()}</a>`;
                nav.appendChild(newLink);
                showNotification(`Page "${pageName}" created successfully`, 'success');
            }
        }

        function enableDragDrop() {
            const elements = document.querySelectorAll('.editable');
            elements.forEach(el => {
                el.draggable = true;
                el.addEventListener('dragstart', handleDragStart);
                el.addEventListener('dragover', handleDragOver);
                el.addEventListener('drop', handleDrop);
            });
            showNotification('Drag & Drop enabled', 'success');
        }

        function handleDragStart(e) {
            e.dataTransfer.setData('text/html', e.target.outerHTML);
            e.target.style.opacity = '0.5';
        }

        function handleDragOver(e) {
            e.preventDefault();
        }

        function handleDrop(e) {
            e.preventDefault();
            const data = e.dataTransfer.getData('text/html');
            e.target.innerHTML = data;
            showNotification('Element moved successfully', 'success');
        }

        function editTrustedSection() {
            const trustedValue = prompt('Edit trusted value (e.g., $100B+):');
            if (trustedValue) {
                const statCards = document.querySelectorAll('.stat-card h3');
                if (statCards[0]) {
                    statCards[0].textContent = trustedValue;
                    showNotification('Trusted section updated', 'success');
                }
            }
        }

        function editTradingOverview() {
            const overview = prompt('Edit Trading Overview description:');
            if (overview) {
                const tradingCard = document.querySelector('.solution-card');
                if (tradingCard) {
                    const p = tradingCard.querySelector('p');
                    if (p) p.textContent = overview;
                    showNotification('Trading Overview updated', 'success');
                }
            }
        }

        function editOTCLiquidity() {
            const otc = prompt('Edit OTC Liquidity description:');
            if (otc) {
                const otcCard = document.querySelectorAll('.solution-card')[1];
                if (otcCard) {
                    const p = otcCard.querySelector('p');
                    if (p) p.textContent = otc;
                    showNotification('OTC Liquidity updated', 'success');
                }
            }
        }

        function editInstitutionalSolutions() {
            const solutions = prompt('Edit Institutional Solutions text:');
            if (solutions) {
                const solutionsHeader = document.querySelector('.solutions-header h2');
                if (solutionsHeader) {
                    solutionsHeader.textContent = solutions;
                    showNotification('Institutional Solutions updated', 'success');
                }
            }
        }

        function editFooter() {
            const footerSections = document.querySelectorAll('.footer-section h4');
            let footerText = '';
            footerSections.forEach((section, index) => {
                footerText += `Section ${index + 1}: ${section.textContent}\n`;
            });
            
            const newFooter = prompt('Edit footer sections (one per line):', footerText);
            if (newFooter) {
                const sections = newFooter.split('\n').filter(section => section.trim());
                footerSections.forEach((section, index) => {
                    if (sections[index]) {
                        const text = sections[index].replace(/^Section \d+: /, '');
                        section.textContent = text;
                    }
                });
                showNotification('Footer updated successfully', 'success');
            }
        }

        function editSubscribe() {
            const subscribeText = document.querySelector('.newsletter-content p');
            const currentText = subscribeText ? subscribeText.textContent : '';
            const newText = prompt('Edit subscribe section text:', currentText);
            if (newText && subscribeText) {
                subscribeText.textContent = newText;
                showNotification('Subscribe section updated', 'success');
            }
        }

        function uploadNewsImage(input) {
            if (input.files && input.files[0]) {
                const reader = new FileReader();
                reader.onload = function(e) {
                    const currentCard = document.querySelector('.news-card.selected') || document.querySelector('.news-card');
                    if (currentCard) {
                        const img = document.createElement('img');
                        img.src = e.target.result;
                        img.style.width = '100%';
                        img.style.height = '120px';
                        img.style.objectFit = 'cover';
                        img.style.borderRadius = '8px';
                        currentCard.insertBefore(img, currentCard.firstChild);
                        showNotification('News image uploaded successfully', 'success');
                    }
                };
                reader.readAsDataURL(input.files[0]);
            }
        }

        function editNewsArticle() {
            const title = prompt('Enter news article title:');
            const content = prompt('Enter news article content:');
            const category = prompt('Enter category (Press release, Insights, etc.):');
            const date = prompt('Enter date (e.g., October 28, 2024):');
            
            if (title && content && category && date) {
                const newsCarousel = document.querySelector('.news-carousel');
                const newArticle = document.createElement('article');
                newArticle.className = 'news-card editable';
                newArticle.innerHTML = `
                    <div class="news-meta">
                        <div class="news-logo">B2</div>
                        <span class="news-type">${category}</span>
                    </div>
                    <h3>${title}</h3>
                    <div class="news-date">${date}</div>
                    <a href="#" class="read-more">Read more ‚Üí</a>
                `;
                newsCarousel.appendChild(newArticle);
                showNotification('News article created successfully', 'success');
            }
        }

        function manageNewsCategories() {
            const categories = ['Press release', 'Insights', 'Company news', 'Industry updates'];
            const currentCategories = categories.join('\n');
            const newCategories = prompt('Edit news categories (one per line):', currentCategories);
            if (newCategories) {
                showNotification('News categories updated', 'success');
            }
        }

        // Add elements
        function addNewsCard() {
            const carousel = document.getElementById('news-carousel');
            if (carousel) {
                const newCard = document.createElement('article');
                newCard.className = 'news-card editable';
                newCard.dataset.type = 'news-card';
                newCard.onclick = function() { selectElement(this); };
                newCard.innerHTML = `
                    <div class="element-label">News Card</div>
                    <div class="news-meta">
                        <div class="news-logo">B2</div>
                        <span class="news-type editable" data-type="text" onclick="editText(this, event)">Press release</span>
                    </div>
                    <h3 class="editable" data-type="text" onclick="editText(this, event)">New Article Title</h3>
                    <div class="news-date editable" data-type="text" onclick="editText(this, event)">Today</div>
                    <a href="#" class="read-more editable" data-type="text" onclick="editText(this, event)">Read more ‚Üí</a>
                `;
                carousel.appendChild(newCard);
                showNotification('News card added successfully!', 'success');
            }
        }

        function addSolutionCard() {
            const grid = document.getElementById('solutions-grid');
            if (grid) {
                const newCard = document.createElement('div');
                newCard.className = 'solution-card editable';
                newCard.dataset.type = 'solution-card';
                newCard.onclick = function() { selectElement(this); };
                newCard.innerHTML = `
                    <div class="element-label">Solution Card</div>
                    <div class="solution-icon editable" data-type="text" onclick="editText(this, event)">üîß</div>
                    <h3 class="editable" data-type="text" onclick="editText(this, event)">New Solution</h3>
                    <p class="editable" data-type="text" onclick="editText(this, event)">Description of the new solution goes here.</p>
                `;
                grid.appendChild(newCard);
                showNotification('Solution card added successfully!', 'success');
            }
        }

        function removeElement() {
            if (currentElement && confirm('Are you sure you want to remove this element?')) {
                currentElement.remove();
                document.getElementById('properties-content').innerHTML = '<div class="no-element-selected"><p>Select an element to edit its properties</p></div>';
                showNotification('Element removed successfully!', 'success');
            }
        }

        // Device preview
        function setDevice(device) {
            document.querySelectorAll('.device-btn').forEach(btn => btn.classList.remove('active'));
            event.target.classList.add('active');
            
            const canvas = document.getElementById('canvas');
            canvas.className = 'canvas ' + device;
        }

        // Global settings
        function updateSiteTitle() {
            const title = document.getElementById('site-title').value;
            document.title = title;
            showNotification('Site title updated!', 'success');
        }

        function updatePrimaryColor() {
            const color = document.getElementById('primary-color').value;
            document.documentElement.style.setProperty('--primary-color', color);
            showNotification('Primary color updated!', 'success');
        }

        function updateSecondaryColor() {
            const color = document.getElementById('secondary-color').value;
            document.documentElement.style.setProperty('--secondary-color', color);
            showNotification('Secondary color updated!', 'success');
        }

        function updateAccentColor() {
            const color = document.getElementById('accent-color').value;
            document.documentElement.style.setProperty('--accent-color', color);
            showNotification('Accent color updated!', 'success');
        }

        // Save and preview
        function saveChanges() {
            const siteHTML = document.getElementById('canvas').innerHTML;
            localStorage.setItem('b2c2-site-data', siteHTML);
            showNotification('Changes saved to browser storage!', 'success');
        }

        function previewSite() {
            const siteHTML = generateFullHTML();
            const newWindow = window.open('', '_blank');
            newWindow.document.write(siteHTML);
            newWindow.document.close();
        }

        function exportSite() {
            const siteHTML = generateFullHTML();
            const blob = new Blob([siteHTML], { type: 'text/html' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = 'b2c2-site-exported.html';
            a.click();
            URL.revokeObjectURL(url);
            showNotification('Site exported successfully!', 'success');
        }

        function generateFullHTML() {
            const canvas = document.getElementById('canvas');
            const cleanHTML = canvas.innerHTML
                .replace(/class="[^"]*editable[^"]*"/g, (match) => {
                    return match.replace(/\s*editable\s*/g, ' ').replace(/class="(\s+)?"/g, '').replace(/class="([^"]*)\s+"/g, 'class="$1"');
                })
                .replace(/onclick="[^"]*"/g, '')
                .replace(/data-type="[^"]*"/g, '')
                .replace(/<div class="element-label">[^<]*<\/div>/g, '');
            
            return `<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>${document.getElementById('site-title').value}</title>
    <style>
        /* Copy all B2C2 styles here */
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif; }
        /* Add all the B2C2 styles from the original site */
    </style>
</head>
<body>
    ${cleanHTML}
    <script>
        // Add any interactive functionality here
    </script>
</body>
</html>`;
        }

        function resetSite() {
            if (confirm('Are you sure you want to reset the site to default? This will lose all changes.')) {
                loadB2C2Site();
                showNotification('Site reset to default!', 'success');
            }
        }

        // Notifications
        function showNotification(message, type = 'info') {
            const notification = document.createElement('div');
            notification.style.cssText = `
                position: fixed;
                top: 20px;
                right: 20px;
                padding: 1rem 1.5rem;
                background: ${type === 'success' ? '#10b981' : type === 'error' ? '#ef4444' : '#6366f1'};
                color: white;
                border-radius: 8px;
                z-index: 10000;
                box-shadow: 0 4px 12px rgba(0,0,0,0.15);
                font-weight: 500;
                max-width: 300px;
            `;
            notification.textContent = message;
            document.body.appendChild(notification);
            
            setTimeout(() => {
                notification.remove();
            }, 3000);
        }

        // Initialize
        document.addEventListener('DOMContentLoaded', function() {
            // Auto-focus username field
            document.getElementById('username').focus();
            
            // Load saved data if exists
            const saved = localStorage.getItem('b2c2-site-data');
            if (saved) {
                // Could restore saved state here
            }
        });

        // Prevent default click on canvas
        document.addEventListener('click', function(e) {
            if (e.target.id === 'canvas' || e.target.closest('.canvas')) {
                // Deselect all elements
                document.querySelectorAll('.editable').forEach(el => {
                    el.classList.remove('selected');
                });
                currentElement = null;
                document.getElementById('properties-content').innerHTML = '<div class="no-element-selected"><p>Select an element to edit its properties</p></div>';
            }
        });
    </script>
</body>
</html>