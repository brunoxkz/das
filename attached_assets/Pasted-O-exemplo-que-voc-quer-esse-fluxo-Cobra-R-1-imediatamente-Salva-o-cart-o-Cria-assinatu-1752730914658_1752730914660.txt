O exemplo que vocÃª quer Ã© esse fluxo:

ğŸ”¹ Cobra R$1 imediatamente
ğŸ”¹ Salva o cartÃ£o
ğŸ”¹ Cria assinatura com trial de 3 dias
ğŸ”¹ Cobra R$29,90/mÃªs automaticamente apÃ³s o trial

Isso nÃ£o existe pronto em um Ãºnico repositÃ³rio oficial, mas Ã© exatamente o que a Stripe recomenda montar combinando trÃªs recursos:

invoice_items para o R$1

payment_method salvo

subscription com trial_period_days

âœ… Exemplo funcional que vocÃª pode usar como base:
ğŸ”— GitHub oficial da Stripe: subscription-use-cases
ğŸ“ https://github.com/stripe-samples/subscription-use-cases

Esse repositÃ³rio tem tudo o que vocÃª precisa â€” mas espalhado em partes.
VocÃª vai usar o exemplo one-time-and-subscription dentro dele.

DiretÃ³rio exato:
bash
Copiar
Editar
subscription-use-cases/one-time-and-subscription/server/node/
ğŸ“ Link direto:
ğŸ‘‰ https://github.com/stripe-samples/subscription-use-cases/tree/main/one-time-and-subscription/server/node

ğŸ“‚ O que esse exemplo cobre:
Etapa	Presente?	Arquivo
CobranÃ§a de valor avulso (R$1)	âœ…	create-invoice-item.js ou dentro do fluxo principal
CriaÃ§Ã£o de customer + cartÃ£o salvo	âœ…	stripe.customers.create + setupIntent
Assinatura com trial (R$29/mÃªs)	âœ…	stripe.subscriptions.create()
Uso de Stripe Elements (frontend)	âœ…	/client com campo de cartÃ£o

âœ… O que vocÃª precisa adaptar:
1. Criar item avulso de R$1:
js
Copiar
Editar
await stripe.invoiceItems.create({
  customer: customerId,
  amount: 100, // R$1 em centavos
  currency: 'brl',
  description: 'CobranÃ§a de ativaÃ§Ã£o',
});
2. Criar assinatura com trial de 3 dias:
js
Copiar
Editar
await stripe.subscriptions.create({
  customer: customerId,
  items: [{ price: 'price_29_mensal_id' }],
  trial_period_days: 3,
  default_payment_method: paymentMethodId,
});
âœ… Estrutura do repositÃ³rio:
pgsql
Copiar
Editar
subscription-use-cases/
â”œâ”€â”€ one-time-and-subscription/
â”‚   â”œâ”€â”€ client/               â†’ HTML com Stripe Elements
â”‚   â””â”€â”€ server/node/          â†’ Express backend
â”‚       â”œâ”€â”€ .env
â”‚       â”œâ”€â”€ server.js         â†’ Toda a lÃ³gica Stripe
â”‚       â””â”€â”€ package.json